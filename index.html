<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<title>The Yee Machine</title>
		<link rel="stylesheet" media="screen" href="style.css">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">



		<link rel="stylesheet" type="text/css" href="css/demo.css" />
		<script src="js/modernizr-custom.js"></script>
	</head>
	<body>



		<div class="start">
			<div class="element"></div>
		</div>
		<div id="container" class="disableSelection" ></div>
		<ul class='instrContainer'>
			<li class= 'instructions'>navigate with WASD - arrows - mouse<br>headphones for best experience</li>


		</ul>
		<div class="gradient" ></div>
		<nav class="main-nav">
			<ul class="iconcontainer">
				<li>
			  <a href="#">Richard<br> Yee</a>
				</li>
			</ul>
</nav>
		<div class="class1" >
			<div class="spacer">
			</div>
			<div class="container1">

				<div class="content2">
					<div class="grid">
						<div class="grid__item" data-size="1280x857">
							<a href="img/original/1.png" class="img-wrap"><img src="img/original/1.png" alt="img06" />
								<div class="description description--grid">
									<h3>Mother's Love</h3>
									<p>Every time you drink a glass of milk or eat a piece of cheese, you harm a mother. Please go vegan. <em>&mdash; Gary L. Francione</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>
						<div class="grid__item" data-size="1280x1280">
							<a href="img/original/2.png" class="img-wrap"><img src="img/original/2.png" alt="img07" />
								<div class="description description--grid">
									<h3>Silent Killer</h3>
									<p>Cowsâ€™ milk protein may be the single most significant chemical carcinogen to which humans are exposed. <em>&mdash; T. Colin Campbell</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>
						<div class="grid__item" data-size="1280x853">
							<a href="img/original/3.png" class="img-wrap"><img src="img/original/3.png" alt="img08" />
								<div class="description description--grid">
									<h3>Senseless Suffering</h3>
									<p>The question is not, 'Can they reason?' nor, 'Can they talk?' but rather, 'Can they suffer?' <em>&mdash; Jeremy Bentham</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>
						<div class="grid__item" data-size="865x1280">
							<a href="img/original/4.png" class="img-wrap"><img src="img/original/4.png" alt="img09" />
								<div class="description description--grid">
									<h3>Rabbit Intelligence</h3>
									<p>If a rabbit defined intelligence the way man does, then the most intelligent animal would be a rabbit, followed by the animal most willing to obey the commands of a rabbit. <em>&mdash; Robert Brault</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>
						<div class="grid__item" data-size="1280x1280">
							<a href="img/original/5.png" class="img-wrap"><img src="img/original/5.png" alt="img10" />
								<div class="description description--grid">
									<h3>Friendly Terms</h3>
									<p>Man is the only animal that can remain on friendly terms with the victims he intends to eat until he eats them. <em>&mdash; Samuel Butler</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>
						<div class="grid__item" data-size="1280x850">
							<a href="img/original/6.png" class="img-wrap"><img src="img/original/6.png" alt="img11" />
								<div class="description description--grid">
									<h3>Murder of Men</h3>
									<p>The time will come when men such as I will look upon the murder of animals as they now look upon the murder of men.<em>&mdash; Leonardo Da Vinci</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>
						<div class="grid__item" data-size="1280x853">
							<a href="img/original/7.png" class="img-wrap"><img src="img/original/7.png" alt="img01" />
								<div class="description description--grid">
									<h3>Highest Ethics</h3>
									<p>Non-violence leads to the highest ethics, which is the goal of all evolution. Until we stop harming all other living beings, we are still savages <em>&mdash; Thomas Edison</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>
						<div class="grid__item" data-size="1280x853">
							<a href="img/original/8.png" class="img-wrap"><img src="img/original/8.png" alt="img01" />
								<div class="description description--grid">
									<h3>Highest Ethics</h3>
									<p>Non-violence leads to the highest ethics, which is the goal of all evolution. Until we stop harming all other living beings, we are still savages <em>&mdash; Thomas Edison</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>

						<div class="grid__item" data-size="865x1280">
							<a href="img/original/9.png" class="img-wrap"><img src="img/original/9.png" alt="img09" />

								<div class="description description--grid">
									<h3>Rabbit Intelligence</h3>
									<p>If a rabbit defined intelligence the way man does, then the most intelligent animal would be a rabbit, followed by the animal most willing to obey the commands of a rabbit. <em>&mdash; Robert Brault</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>


						<div class="grid__item" data-size="865x1280">
							<a href="img/original/18.png" class="img-wrap"><img src="img/original/18.png" alt="img09" />

								<div class="description description--grid">
									<h3>Rabbit Intelligence</h3>
									<p>If a rabbit defined intelligence the way man does, then the most intelligent animal would be a rabbit, followed by the animal most willing to obey the commands of a rabbit. <em>&mdash; Robert Brault</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>

									<div class="grid__item" data-size="865x1280">
													<a href="img/original/10.png" class="img-wrap"><img src="img/original/10.png" alt="img09" />

														<div class="description description--grid">
															<h3>Rabbit Intelligence</h3>
															<p>If a rabbit defined intelligence the way man does, then the most intelligent animal would be a rabbit, followed by the animal most willing to obey the commands of a rabbit. <em>&mdash; Robert Brault</em></p>
															<div class="details">
																<ul>

																</ul>
															</div>
														</div>
													</a>
												</div>

					</div>
					<!-- /grid -->
					<div class="preview">
						<button class="action action--close"><i class="fa fa-times"></i></button>
						<div class="description description--preview"></div>
					</div>
					<!-- /preview -->
				</div>
				<!-- /content -->


			</div>
		</div>
		<div class="class2">
			<div class="spacer">
			</div>
			<div class="container2">

				<div class="content2">
					<div class="grid2">
						<div class="grid__item" data-size="1280x857">
							<a href="img/original/11.png" class="img-wrap"><img src="img/original/11.png" alt="img06" />
								<div class="description description--grid">
									<h3>Mother's Love</h3>
									<p>Every time you drink a glass of milk or eat a piece of cheese, you harm a mother. Please go vegan. <em>&mdash; Gary L. Francione</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>


								<div class="grid__item" data-size="1280x857">
									<a href="img/original/17.png" class="img-wrap"><img src="img/original/17.png" alt="img06" />
										<div class="description description--grid">
											<h3>Mother's Love</h3>
											<p>Every time you drink a glass of milk or eat a piece of cheese, you harm a mother. Please go vegan. <em>&mdash; Gary L. Francione</em></p>
											<div class="details">
												<ul>

												</ul>
											</div>
										</div>
									</a>
								</div>

						<div class="grid__item" data-size="1280x853">
							<a href="img/original/12.gif" class="img-wrap"><img src="img/original/16.png" alt="img08" />
								<div class="description description--grid">
									<h3>Senseless Suffering</h3>
									<p>The question is not, 'Can they reason?' nor, 'Can they talk?' but rather, 'Can they suffer?' <em>&mdash; Jeremy Bentham</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>


						<div class="grid__item" data-size="1280x853">
							<a href="img/original/14.gif" class="img-wrap"><img src="img/original/15.png" alt="img08" />
								<div class="description description--grid">
									<h3>Senseless Suffering</h3>
									<p>The question is not, 'Can they reason?' nor, 'Can they talk?' but rather, 'Can they suffer?' <em>&mdash; Jeremy Bentham</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>


						<div class="grid__item" data-size="1280x853">
							<a href="img/original/13.png" class="img-wrap"><img src="img/original/13.png" alt="img08" />
								<div class="description description--grid">
									<h3>Senseless Suffering</h3>
									<p>The question is not, 'Can they reason?' nor, 'Can they talk?' but rather, 'Can they suffer?' <em>&mdash; Jeremy Bentham</em></p>
									<div class="details">
										<ul>

										</ul>
									</div>
								</div>
							</a>
						</div>




					</div>
					<!-- /grid -->
					<div class="preview">
						<button class="action action--close"><i class="fa fa-times"></i></button>
						<div class="description description--preview"></div>
					</div>
					<!-- /preview -->
				</div>
				<!-- /content -->


			</div>
		</div>
		<div class="hundred">
			<div class="content photo" style="background-color:black">

				<iframe src="https://player.vimeo.com/video/171520721?color=ff9933&title=0&byline=0&portrait=0&showinfo=0&autohide=1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe> <p class="vimeodesc">A demonstration of a sound/sculptural piece that utilizes the human voice, Max Msp, and an Arduino.</p>
			</div>
			</div>



		<script src="build/three.js"></script>

		<script src="js/controls/FirstPersonControls.js"></script>

		<script src="js/Detector.js"></script>
		<script src="js/SkyShader.js"></script>

		<script src="js/libs/stats.min.js"></script>


		<script src="js/libs/dat.gui.min.js"></script>
		<script type='text/javascript' src='js/libs/Tween.js'></script>


		<script src="https://code.jquery.com/jquery-latest.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/tabletop.js/1.3.5/tabletop.min.js"></script>
		<script src="https://cdn.rawgit.com/CooperUnion/javascript-learning/master/tabletop-simple.js"></script>
		<script src="js/typed.js"></script>




	<script src="js/imagesloaded.pkgd.min.js"></script>
	<script src="js/masonry.pkgd.min.js"></script>
	<script src="js/classie.js"></script>
	<script src="js/main.js"></script>
	<script>
		(function() {
			var support = { transitions: Modernizr.csstransitions },
				// transition end event name
				transEndEventNames = { 'WebkitTransition': 'webkitTransitionEnd', 'MozTransition': 'transitionend', 'OTransition': 'oTransitionEnd', 'msTransition': 'MSTransitionEnd', 'transition': 'transitionend' },
				transEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],
				onEndTransition = function( el, callback ) {
					var onEndCallbackFn = function( ev ) {
						if( support.transitions ) {
							if( ev.target != this ) return;
							this.removeEventListener( transEndEventName, onEndCallbackFn );
						}
						if( callback && typeof callback === 'function' ) { callback.call(this); }
					};
					if( support.transitions ) {
						el.addEventListener( transEndEventName, onEndCallbackFn );
					}
					else {
						onEndCallbackFn();
					}
				};

			new GridFx(document.querySelector('.grid'), {
				imgPosition : {
					x : -.7,
					// this controls the animation see-.preview in css and match %
					y : 1
				},
				onOpenItem : function(instance, item) {
					instance.items.forEach(function(el) {
						if(item != el) {
							var delay = Math.floor(Math.random() * 50);
							el.style.WebkitTransition = 'opacity .5s ' + delay + 'ms cubic-bezier(.7,0,.3,1), -webkit-transform .5s ' + delay + 'ms cubic-bezier(.7,0,.3,1)';
							el.style.transition = 'opacity .5s ' + delay + 'ms cubic-bezier(.7,0,.3,1), transform .5s ' + delay + 'ms cubic-bezier(.7,0,.3,1)';
							el.style.WebkitTransform = 'scale3d(0.1,0.1,1)';
							el.style.transform = 'scale3d(0.1,0.1,1)';
							el.style.opacity = 0;
						}
					});
				},
				onCloseItem : function(instance, item) {
					instance.items.forEach(function(el) {
						if(item != el) {
							el.style.WebkitTransition = 'opacity .4s, -webkit-transform .4s';
							el.style.transition = 'opacity .4s, transform .4s';
							el.style.WebkitTransform = 'scale3d(1,1,1)';
							el.style.transform = 'scale3d(1,1,1)';
							el.style.opacity = 1;

							onEndTransition(el, function() {
								el.style.transition = 'none';
								el.style.WebkitTransform = 'none';
							});
						}
					});
				}
			});


			new GridFx(document.querySelector('.grid2'), {
				imgPosition : {
					x : -.7,
					// this controls the animation see-.preview in css and match %
					y : 1
				},
				onOpenItem : function(instance, item) {
					instance.items.forEach(function(el) {
						if(item != el) {
							var delay = Math.floor(Math.random() * 50);
							el.style.WebkitTransition = 'opacity .5s ' + delay + 'ms cubic-bezier(.7,0,.3,1), -webkit-transform .5s ' + delay + 'ms cubic-bezier(.7,0,.3,1)';
							el.style.transition = 'opacity .5s ' + delay + 'ms cubic-bezier(.7,0,.3,1), transform .5s ' + delay + 'ms cubic-bezier(.7,0,.3,1)';
							el.style.WebkitTransform = 'scale3d(0.1,0.1,1)';
							el.style.transform = 'scale3d(0.1,0.1,1)';
							el.style.opacity = 0;
						}
					});
				},
				onCloseItem : function(instance, item) {
					instance.items.forEach(function(el) {
						if(item != el) {
							el.style.WebkitTransition = 'opacity .4s, -webkit-transform .4s';
							el.style.transition = 'opacity .4s, transform .4s';
							el.style.WebkitTransform = 'scale3d(1,1,1)';
							el.style.transform = 'scale3d(1,1,1)';
							el.style.opacity = 1;

							onEndTransition(el, function() {
								el.style.transition = 'none';
								el.style.WebkitTransform = 'none';
							});
						}
					});
				}
			});
		})();
	</script>
	<script>

	$( document ).ready(function() {



		$(window).load(function() {

			var  mn = $(".main-nav");
		var  mns = "main-nav-scrolled";
		var  hdr = $('#container').height();
		var	gdr = $('.class1').height();
		var	pdr = $('.class2').height();
		var	sdr = $('.hundred').height();




			var windowPosY = $(this).scrollTop();

			$(window).scroll(function() {

			if($(this).scrollTop() > (hdr*.85) && windowPosY < (hdr+(gdr)))
			{
				mn.addClass(mns);
			 $( ".iconcontainer li a" ).html( "Design" );
			 $( ".iconcontainer li a" ).css( "font-size", "10px" );

			}
			if($(this).scrollTop() < (hdr*.85) && windowPosY ){
				mn.removeClass(mns);
				 $( ".iconcontainer li a" ).html( "Richard <br> Yee" );
				 $( ".iconcontainer li a" ).css( "font-size", "10px" );

			}
				if($(this).scrollTop() > (hdr+gdr) && windowPosY < (hdr+gdr+pdr)){
					$( ".iconcontainer li a" ).html( "Painting?" );
					$( ".iconcontainer li a" ).css( "font-size", "10px" );

				}
				if($(this).scrollTop() > (hdr+gdr+pdr) && windowPosY < (hdr+gdr+pdr+sdr)){
					$( ".iconcontainer li a" ).html( "&#9836" );
					$( ".iconcontainer li a" ).css( "font-size", "20px" );

				}
			});

			});
 				var resizeTimeout;

	      $(window).resize(function() {
	        clearTimeout(resizeTimeout);
	        resizeTimeout= setTimeout(doneResizing, 500);
	     });

	      doneResizing(); //trigger resize handling code for initialization
	 });


	function doneResizing()
	{

			mn = $(".main-nav");
			mns = "main-nav-scrolled";
			hdr = $('#container').height();
			gdr = $('.class1').height();
			pdr = $('.class2').height();
			sdr = $('.hundred').height();



			$(window).scroll(function() {
				var windowPosY = $(this).scrollTop();
				console.log(gdr);
				if($(this).scrollTop() > (hdr*.85) && windowPosY < (hdr+(gdr)))
				{
					mn.addClass(mns);
				 $( ".iconcontainer li a" ).html( "Design" );
				 $( ".iconcontainer li a" ).css( "font-size", "10px" );

				}
				if($(this).scrollTop() < (hdr*.85) && windowPosY ){
					mn.removeClass(mns);
					 $( ".iconcontainer li a" ).html( "Richard <br> Yee" );
					 $( ".iconcontainer li a" ).css( "font-size", "10px" );

				}
					if($(this).scrollTop() > (hdr+(gdr)) && windowPosY < (hdr+gdr+pdr)){
						$( ".iconcontainer li a" ).html( "Painting?" );
						$( ".iconcontainer li a" ).css( "font-size", "10px" );

					}
					if($(this).scrollTop() > (hdr+gdr+pdr) && windowPosY < (hdr+(gdr)+pdr+sdr)){
						$( ".iconcontainer li a" ).html( "&#9836" );
						$( ".iconcontainer li a" ).css( "font-size", "20px" );
					}


				});

	}






</script>

<script>

////Spreadsheet Config////
$(document).ready(function(){
					//configure spreadsheet
				var public_spreadsheet_url = 'https://docs.google.com/spreadsheets/d/17D2pdAaHixfjQ6s5uzu56iHB5oFG7jOFLqIaP_M9Ly8/pubhtml';
				getSpreadsheetJSON(public_spreadsheet_url, function(response){
					console.log(response);
					console.log(response[0].link);

					$(window).on('beforeunload', function() {
							$(window).scrollTop(0);
					});




//////////////////////////////

////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////
//////////////REST OF THE CODE////////////////////////////


	if ( ! Detector.webgl ) Detector.addGetWebGLMessage();

	var container;
	var camera, controls, scene, renderer;
	var sky, sunSphere;
	var light, pointLight;

	var mesh;
	var material_sphere1, material_sphere2, material_sphere5, material_sphere6, material_sphere7, material_sphere8;

	var analyser1, analyser2, analyser5, analyser6, analyser7, analyser8;

	var clock = new THREE.Clock();

	init();
	animate();
	function initSky() {
					// Add Sky Mesh
					sky = new THREE.Sky();
					scene.add( sky.mesh );
					// Add Sun Helper
					sunSphere = new THREE.Mesh(
						new THREE.SphereBufferGeometry( 20000, 16, 8 ),
						new THREE.MeshBasicMaterial( { color: 0xffffff } )
					);
					sunSphere.position.y = - 700000;
					sunSphere.visible = false;
					scene.add( sunSphere );
					/// GUI

					var lum = 0.1;
					var target = 2;
					var tween = new TWEEN.Tween(lum).to(target, 2000);

					tween.onUpdate(function(){
						sky.uniforms.luminance.value = lum
						});

					var effectController  = {
						turbidity: 10,
						reileigh: 2,
						mieCoefficient: 0.005,
						mieDirectionalG: 0.8,
						luminance: .8,
						inclination: 0.49, // elevation / inclination
						azimuth: 0.25, // Facing front,
						sun: ! true
					};



					var distance = 400000;
					function guiChanged() {
						var uniforms = sky.uniforms;
						uniforms.turbidity.value = effectController.turbidity;
						uniforms.reileigh.value = effectController.reileigh;
						uniforms.luminance.value = effectController.luminance;
						uniforms.mieCoefficient.value = effectController.mieCoefficient;
						uniforms.mieDirectionalG.value = effectController.mieDirectionalG;
						var theta = Math.PI * ( effectController.inclination - 0.5 );
						var phi = 2 * Math.PI * ( effectController.azimuth - 0.5 );
						sunSphere.position.x = distance * Math.cos( phi );
						sunSphere.position.y = distance * Math.sin( phi ) * Math.sin( theta );
						sunSphere.position.z = distance * Math.sin( phi ) * Math.cos( theta );
						sunSphere.visible = effectController.sun;
						sky.uniforms.sunPosition.value.copy( sunSphere.position );
						renderer.render( scene, camera );
					}

					guiChanged();
				}


	function init() {

		container = document.getElementById( 'container' );

		camera = new THREE.PerspectiveCamera( 60, $(container).width() / $(container).height(), 100, 2000000 );
		camera.position.set( 0, 100, 8000 );



		var listener = new THREE.AudioListener();
		camera.add( listener );


		scene = new THREE.Scene();







		var sphere = new THREE.SphereGeometry( response[0].radius, response[0].polygon, response[0].polygon );

		var objectMaterial1 = new THREE.MeshStandardMaterial( { color: response[0].spherecolor, roughness: 0.5, metalness: 1.0 } );
		var objectMaterial2 = new THREE.MeshStandardMaterial( { color: response[1].spherecolor, roughness: 0.5, metalness: 0.5 } );
		var objectMaterial5 = new THREE.MeshStandardMaterial( { color: response[2].spherecolor, roughness: 0.5, metalness: 1.0 } );
		var objectMaterial6 = new THREE.MeshStandardMaterial( { color: response[3].spherecolor, roughness: 0.5, metalness: 0.5 } );
		var objectMaterial7 = new THREE.MeshStandardMaterial( { color: response[4].spherecolor, roughness: 0.5, metalness: 1.0 } );
		var objectMaterial8 = new THREE.MeshStandardMaterial( { color: response[5].spherecolor, roughness: 0.5, metalness: 0.5 } );
		material_sphere1 = objectMaterial1;
		material_sphere2 = objectMaterial2;
		material_sphere5 = objectMaterial5;
		material_sphere6 = objectMaterial6;
		material_sphere7 = objectMaterial7;
		material_sphere8 = objectMaterial8;

		// sound spheres
		for (var i = 0; i<15; i++){
			var mesh1 = new THREE.Mesh( sphere, material_sphere1 );
			mesh1.position.x = (Math.random() - 0.5) * response[0].spacing;
			mesh1.position.y = (Math.random() - 0.5) * response[0].spacing;
			mesh1.position.z = (Math.random() - 0.5) * response[0].spacing;
			scene.add( mesh1 );

			var sound1 = new THREE.PositionalAudio( listener );
			sound1.load( response[0].link );
			sound1.setRefDistance( 20 );
			sound1.autoplay = true;
			sound1.setLoop(true);
			mesh1.add( sound1 );

		}


		//
	for (var i = 0; i<5; i++){
		var mesh2 = new THREE.Mesh( sphere, material_sphere2 );
		mesh2.position.x = (Math.random() - 0.5) * response[1].spacing;
		mesh2.position.y = (Math.random() - 0.5) * response[1].spacing;
		mesh2.position.z = (Math.random() - 0.5) * response[1].spacing;
		scene.add( mesh2 );

		var sound2 = new THREE.PositionalAudio( listener );
		sound2.load( response[1].link );
		sound2.setRefDistance( 20 );
		sound2.autoplay = true;
		sound2.setLoop(true);
		mesh2.add( sound2 );
		}
		//




		//
	for (var i = 0; i<10; i++){
		var mesh5 = new THREE.Mesh( sphere, material_sphere5 );
		mesh5.position.x = (Math.random() - 0.5) * response[2].spacing;
		mesh5.position.y = (Math.random() - 0.5) * response[2].spacing;
		mesh5.position.z = (Math.random() - 0.5) * response[2].spacing;
		scene.add( mesh5 );

		var sound5 = new THREE.PositionalAudio( listener );
		sound5.load( response[2].link );
		sound5.setRefDistance( 20 );
		sound5.autoplay = true;
		sound5.setLoop(true);
		mesh5.add( sound5 );
		}
		///
		for (var i = 0; i<5; i++){
			var mesh6 = new THREE.Mesh( sphere, material_sphere6 );
			mesh6.position.x = (Math.random() - 0.5) * response[3].spacing;
			mesh6.position.y = (Math.random() - 0.5) * response[3].spacing;
			mesh6.position.z = (Math.random() - 0.5) * response[3].spacing;
			scene.add( mesh6 );

			var sound6 = new THREE.PositionalAudio( listener );
			sound6.load( response[3].link );
			sound6.setRefDistance( 20 );
			sound6.autoplay = true;
			sound6.setLoop(true);
			mesh6.add( sound6 );

		}
		///
		for (var i = 0; i<10; i++){
			var mesh7 = new THREE.Mesh( sphere, material_sphere7 );
			mesh7.position.x = (Math.random() - 0.5) * response[4].spacing;
			mesh7.position.y = (Math.random() - 0.5) * response[4].spacing;
			mesh7.position.z = (Math.random() - 0.5) * response[4].spacing;
			scene.add( mesh7 );

			var sound7 = new THREE.PositionalAudio( listener );
			sound7.load( response[4].link );
			sound7.setRefDistance( 20 );
			sound7.autoplay = true;
			sound7.setLoop(true);
			mesh7.add( sound7 );

		}
		///
		for (var i = 0; i<3; i++){
			var mesh8 = new THREE.Mesh( sphere, material_sphere8 );
			mesh8.position.x = (Math.random() - 0.5) * response[5].spacing;
			mesh8.position.y = (Math.random() - 0.5) * response[5].spacing;
			mesh8.position.z = (Math.random() - 0.5) * response[5].spacing;
			scene.add( mesh8 );

			var sound8 = new THREE.PositionalAudio( listener );
			sound8.load( response[5].link );
			sound8.setRefDistance( 20 );
			sound8.autoplay = true;
			sound8.setLoop(true);
			mesh8.add( sound8 );

		}

		// analysers

		analyser1 = new THREE.AudioAnalyser( sound1, 32 );
		analyser2 = new THREE.AudioAnalyser( sound2, 32 );
		analyser5 = new THREE.AudioAnalyser( sound5, 32 );
		analyser6 = new THREE.AudioAnalyser( sound6, 32 );
		analyser7 = new THREE.AudioAnalyser( sound7, 32 );
		analyser8 = new THREE.AudioAnalyser( sound8, 32 );


		// global ambient audio

		var sound4 = new THREE.Audio( listener );
		sound4.load( response[7].link );
		sound4.autoplay = true;
		sound4.setLoop(true);
		sound4.setVolume(0.5);

		// ground



		//
			var SoundControls = function() {
				 this.volume = listener.getMasterVolume();
				 this.ambient =  sound4.getVolume();

		};

		///controler volume///


		var gui = new dat.GUI( { autoPlace: false } );
		{

			var soundControls = new SoundControls();

			gui.add(soundControls, 'volume').min(0.0).max(1.0).step(0.01).onChange(function() {
				listener.setMasterVolume(soundControls.volume);
					});
			gui.add(soundControls, 'ambient').min(0.0).max(1.0).step(0.01).onChange(function() {
			sound4.setVolume(soundControls.ambient);
		});
					gui.close()

		}

			listener.setMasterVolume(0);



/////////////////////////////////////////////////////////////////////
			var isMobile = window.matchMedia("only screen and (max-width: 760px)");
			if (isMobile.matches) {
				$(".element").typed({
					strings: ["Hello", "Mobile not<br>Supported"],
					startDelay: 500,
					backDelay: 1000,
					typeSpeed: 10,
					backSpeed:10,
					showCursor: false
				});

			} else {

				$(".element").typed({
					strings: ["Hello", "Click to Begin"],
					startDelay: 500,
					backDelay: 1000,
					typeSpeed: 10,
					backSpeed:10,
					showCursor: false
				});

				$( ".start" ).click(function() {
				$( ".start" ).addClass( "hide" );
				$( ".start" ).removeClass( "start" );
				listener.setMasterVolume(1);
				});

				$( "#container" ).click(function() {
					$( ".hide div" ).html( "click to resume" );
				$( ".hide" ).addClass( "start" );
				$( ".hide" ).removeClass( "hide" );
					listener.setMasterVolume(0);

				});

		}







		///
		renderer = new THREE.WebGLRenderer( { antialias: true } );
		renderer.setPixelRatio( $(container).devicePixelRatio );
		renderer.setSize($(container).width(), $(container).height());

		container.innerHTML = "";
		container.appendChild( renderer.domElement );

		//
		controls = new THREE.FirstPersonControls( camera, renderer.domElement );

		controls.movementSpeed = response[0].speed;
		controls.lookSpeed = response[0].lookspeed;
		controls.noFly = false;
		controls.lookVertical = true;
		controls.lon=270;

		initSky();

		window.addEventListener( 'resize', onContainerResize, false );

	}

	function onContainerResize() {

		camera.aspect = $(container).width() / $(container).height();
		camera.updateProjectionMatrix();

		renderer.setSize( $(container).width(), $(container).height() );

		controls.handleResize();

	}

	function animate() {

		sky.uniforms.luminance.value+=.0003
		requestAnimationFrame( function(){animate();});
		render();

	}


	function render() {

		var delta = clock.getDelta();

		controls.update( delta );

		material_sphere1.emissive.b = analyser1.getData()[ 8 ] / 256;
		material_sphere2.emissive.b = analyser2.getData()[ 8 ] / 256;

		material_sphere5.emissive.b = analyser5.getData()[ 8 ] / 256;
		material_sphere6.emissive.b = analyser6.getData()[ 8 ] / 256;
		material_sphere7.emissive.b = analyser7.getData()[ 8 ] / 256;
		material_sphere8.emissive.b = analyser8.getData()[ 8 ] / 256;


		renderer.render( scene, camera );

	}

							});
					});

</script>
	</body>
</html>
